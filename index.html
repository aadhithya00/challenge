<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="test.css" type="text/css">
    <title>prb-1</title>
</head>

<body>
    <script>
        function countInversions(arr) {
            function mergeAndCount(arr, tempArr, left, right) {
                if (left === right) {
                    return 0;
                }
                let mid = Math.floor((left + right) / 2);
                let invCount = mergeAndCount(arr, tempArr, left, mid) + mergeAndCount(arr, tempArr, mid + 1, right);
                invCount += merge(arr, tempArr, left, mid, right);
                return invCount;
            }

            function merge(arr, tempArr, left, mid, right) {
                let i = left;
                let j = mid + 1;
                let k = left;
                let invCount = 0;

                while (i <= mid && j <= right) {
                    if (arr[i] <= arr[j]) {
                        tempArr[k] = arr[i];
                        i++;
                    } else {
                        tempArr[k] = arr[j];
                        invCount += (mid - i + 1);
                        j++;
                    }
                    k++;
                }

                while (i <= mid) {
                    tempArr[k] = arr[i];
                    i++;
                    k++;
                }

                while (j <= right) {
                    tempArr[k] = arr[j];
                    j++;
                    k++;
                }

                for (let i = left; i <= right; i++) {
                    arr[i] = tempArr[i];
                }

                return invCount;
            }

            let tempArr = new Array(arr.length);
            return mergeAndCount(arr, tempArr, 0, arr.length - 1);
        }

        function minSwapsToTransform(N, A, B) {
            if (A.split('').sort().join('') !== B.split('').sort().join('')) {
                return -1;
            }


            let positions = {};
            for (let i = 0; i < N; i++) {
                if (!positions[B[i]]) {
                    positions[B[i]] = [];
                }
                positions[B[i]].push(i);
            }

            let arr = [];
            let used = new Array(N).fill(false);
            for (let i = 0; i < N; i++) {
                let char = A[i];
                let targetPos = positions[char].shift();
                arr.push(targetPos);
            }


            return countInversions(arr);
        }


        const N = 5;
        const A = "abcde";
        const B = "edcba";

        const result = minSwapsToTransform(N, A, B);
        console.log(result);




    </script>

</body>

</html>